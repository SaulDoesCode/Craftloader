"use strict";function _typeof(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(e){function r(e){var r=Craftloader.get(e.key||e.url),t=void 0,o=+new Date;return e.execute=e.execute!==!1,!r||r.expire-o<0||e.unique!==r.unique?(e.unique&&(e.url+=(e.url.indexOf("?")>0?"&":"?")+"unique="+e.unique),t=new Promise(function(r,t){return fetch(e.url).then(function(t){return t.text().then(function(t){if(e.data=t,e.stamp=o,e.expire=o+60*(e.expire||4e3)*60*1e3,!e.noCache)try{localStorage.setItem(n+(e.key||e.url),JSON.stringify(e))}catch(u){u.name.toUpperCase().includes("QUOTA")?console.warn("localStorage is full: "+u):console.warn("Craftloader : problem caching script: "+u)}r(e)})})["catch"](function(e){return t("Could not fetch Craftloader import -> "+e)})})):(r.execute=e.execute,t=new Promise(function(e){return e(r)})),t}function t(r){return r.map(function(r){if(r.execute){var t=void 0;t="css"===r.type?e.createElement("style"):e.createElement("script"),"css"!==r.type&&(t.defer=r.defer||!1),t.innerHTML=r.data,e.head.appendChild(t)}return r})}var n="craft:",o=function(e){return void 0!==("undefined"==typeof e?"undefined":_typeof(e))};self.Craftloader={Import:function(){for(var e=void 0,n=arguments,u=[],c=0;c<n.length;c++)if(n[c].test&&n[c].execute){if(e={url:n[c].script||n[c].css||n[c].url,type:n[c].css?"css":"script"},o(e.url)||""===e.url)return console.error("no script/css/url found");n[c].noCache===!0&&(e.noCache=!0),o(n[c].key)&&(e.key=n[c].key),o(n[c].defer)&&(e.defer=n[c].defer),o(n[c].expire)&&(e.expire=n[c].expire),u.push(r(e))}else n[c].test===!1&&Craftloader.remove(n[c].css||n[c].script||n[c].url);return Promise.all(u).then(t)},setPrekey:function(e){return n=e+":"},get:function(e){return JSON.parse(localStorage.getItem(n+e)||!1)},remove:function(e){return localStorage.removeItem(n+e)},removeAll:function(e){var r=void 0,t=void 0,o=+new Date;for(t in localStorage)r=t.split(n)[1],r&&(!e||Craftloader.get(r).expire<=o)&&Craftloader.remove(r)}},Craftloader.removeAll(!0)}(document);
