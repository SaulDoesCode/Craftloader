"use strict";!function(e){function r(e){var r=Craftloader.get(e.key||e.url),t=void 0,o=+new Date;return e.execute=e.execute!==!1,!r||r.expire-o<0||e.unique!==r.unique?(e.unique&&(e.url+=(e.url.indexOf("?")>0?"&":"?")+"unique="+e.unique),t=new Promise(function(r,t){return fetch(e.url).then(function(t){return t.text().then(function(t){if(e.data=t,e.stamp=o,e.expire=o+60*(e.expire||4e3)*60*1e3,!e.noCache)try{localStorage.setItem(n+(e.key||e.url),JSON.stringify(e))}catch(u){u.name.toUpperCase().includes("QUOTA")?console.warn("localStorage is over QUOTA :"+u):console.warn("Craftloader couldn't cache script executing locally: "+u)}r(e)})})["catch"](function(e){return t("Could not fetch Craftloader import -> "+e)})})):(r.execute=e.execute,t=new Promise(function(e){return e(r)})),t}function t(r){return r.map(function(r){if(r.execute){var t=void 0;t="css"===r.type?e.createElement("style"):e.createElement("script"),"css"!==r.type&&(t.defer=r.defer||!1),t.innerHTML=r.data,e.head.appendChild(t)}return r})}var n="craft:";self.Craftloader={Import:function(){for(var e=void 0,n=arguments,o=[],u=0;u<n.length;u++)if(n[u].test&&n[u].execute){if(e={url:n[u].script||n[u].css||n[u].url,type:n[u].css?"css":"script"},void 0===e.url||""===e.url)return console.error("no script/css/url found");n[u].noCache===!0&&(e.noCache=!0),void 0!==n[u].key&&(e.key=n[u].key),void 0!==n[u].defer&&(e.defer=n[u].defer),void 0!==n[u].expire&&(e.expire=n[u].expire),o.push(r(e))}else n[u].test===!1&&Craftloader.remove(n[u].css||n[u].script||n[u].url);return Promise.all(o).then(t)},setPrekey:function(e){return n=e+":"},get:function(e){return JSON.parse(localStorage.getItem(n+e)||!1)},remove:function(e){return localStorage.removeItem(n+e)},removeAll:function(e){var r=void 0,t=void 0,o=+new Date;for(r in localStorage)t=r.split(n)[1],t&&(!e||Craftloader.get(t).expire<=o)&&Craftloader.remove(t)}},Craftloader.removeAll(!0)}(document);
