"use strict";!function(e){function r(e){var r=void 0,t=+new Date,o=e.key||e.url,a=Craftloader.get(o);return!a||a.expire-t<0||e.unique!==a.unique?(e.unique&&(e.url+=(e.url.indexOf("?")>0?"&":"?")+"unique="+e.unique),r=new Promise(function(r,a){return fetch(e.url).then(function(a){return a.text().then(function(a){e.data=a,e.stamp=t,e.expire=t+60*(e.expire||4e3)*60*1e3,e.noCache||localStorage.setItem(n+o,JSON.stringify(e)),r(e)})})["catch"](function(e){return a("Craftloader: problem fetching import -> "+e)})})):r=new Promise(function(e){return e(a)}),r}function t(e){return e.map(function(e){if(e.exec){var r=void 0;return r="css"===e.type?o.createElement("style"):o.createElement("script"),"css"!==e.type&&(r.defer=e.defer||!1),r.innerHTML=e.data,o.head.appendChild(r),e}})}var n="craft:",o=e,a=function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return r.every(function(e){return void 0!==e})};self.Craftloader={Import:function(){for(var e=arguments.length,n=Array(e),o=0;e>o;o++)n[o]=arguments[o];var i=void 0,u=[],c=void 0;for(c in n)n[c].test!==!1?(i={url:n[c].css||n[c].script||n[c].url,type:n[c].css?"css":"script",exec:n[c].execute!==!1},n[c].noCache===!0&&(i.noCache=!0),a(n[c].key)&&(i.key=n[c].key),a(n[c].defer)&&(i.defer=n[c].defer),a(n[c].expire)&&(i.expire=n[c].expire),u.push(r(i))):Craftloader.remove(n[c].css||n[c].script||n[c].url);return Promise.all(u).then(t)},setPrekey:function(e){return n=e+":"},get:function(e){return JSON.parse(localStorage.getItem(n+e)||!1)},remove:function(e){return localStorage.removeItem(n+e)},removeAll:function(e){var r=void 0,t=void 0,o=+new Date;for(t in localStorage)r=t.split(n)[1],r&&(!e||Craftloader.get(r).expire<=o)&&Craftloader.remove(r)}},Craftloader.removeAll(!0)}(document);
